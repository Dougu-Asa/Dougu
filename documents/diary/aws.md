# 7-25-2024
## UserGroups
One issue I realized when working on `DataStore.start()` is that it would automatically sync the entire datastore locally, which is not ideal as the application gets bigger. Even though my application isn't big enough for it to really be a problem right now and that it might be a bit excessive, I think it's worth setting up a system where users are added to userGroups by organizations. In doing so, it would allow for more selective syncing, and better graphQL security rules. Additionally, it would be difficult to migrate the data and models to this new schema if this actually becomes a problem.
[Controlling AWS From API](https://docs.aws.amazon.com/IAM/latest/APIReference/welcome.html)
[UserGroup Authentication](https://docs.amplify.aws/gen1/react-native/build-a-backend/graphqlapi/customize-authorization-rules/#user-group-based-data-access)
Reminder: Keep users to less than 5 user groups!

After creating a testing screen, i was able to verify that using user groups works as intended, and helps to create a more selective syncing while still allowing users to access all the data they need. My current plan for this setup is to have users automatically create a user group whenever an organization is created and to add users to a user group whenever an orgUserStorage is created. This would need to make use of lambda functions, as I learned that it's unsafe to create an IAM user and put their access keys into the app bundle. (Even though Amplify does something similar, I'm not sure how to restrict the permissions of my IAM to the least like Amplify does, and I think ti's important to practice lambda functions for google sheets integration). 